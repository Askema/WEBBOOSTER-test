const modalButton=document.querySelectorAll(".catalog-item__button"),modal=document.querySelector(".modal"),modalWrapper=document.querySelector(".modal__wrapper"),productName=document.querySelector(".modal-form__input--product-name"),form=document.querySelector("modal-form");function openModal(e){e.preventDefault(),modal.classList.add("modal--open");const o=e.currentTarget.closest(".catalog-item").querySelector(".catalog-item__title");productName.value=o.textContent}async function formSend(e){e.preventDefault();const o=new FormData(form),t=await fetch("./send.php",{method:"POST",body:o});if(t.ok){const e=await t.json();alert(e.message),form.reset()}else alert("Ошибка")}modalButton.forEach((e=>{e.addEventListener("click",openModal)})),document.addEventListener("keydown",(e=>{27===e.keyCode&&modal.classList.remove("modal--open")})),modalWrapper.addEventListener("click",(e=>{e.stopPropagation()})),modal.addEventListener("click",(()=>{modal.classList.remove("modal--open")})),form.addEventListener("submit",formSend);